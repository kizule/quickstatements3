{% extends "layout.html" %}
{% load i18n %}

{% block pagetitle %}QuickStatements 3.0{% endblock%}

{% block content %}

<h1>{% translate 'Welcome to QuickStatements 3.0' context 'index-welcome-to-quickstatements-3.0' %}</h1>

<article>
  <a role="button" href="{% url 'new_batch' %}">{% translate 'New batch' context 'index-new-batch' %}</a>
</article>


<form id="batchForm">
  <fieldset role="group">
    <input id="batchInput" type="number" placeholder="{% translate 'Batch ID...' context 'index-batch-id...' %}" oninput="updateBatchForm()" required />
    <input type="submit" value="{% translate 'See batch details' context 'index-see-batch-details' %}" />
  </fieldset>
</form>

<form id="userForm">
  <fieldset role="group">
    <input id="userInput" type="text" placeholder="{% translate 'Username...' context 'index-username...' %}" oninput="updateUserForm()" required />
    <input type="submit" value="{% translate 'See batches by user' context 'index-see-batches-by-user' %}" />
  </fieldset>
</form>

{% endblock %}

{% block scripts %}
<script>
  function updateUserForm() {
    document.getElementById("userForm").action = "/batches/" + document.getElementById("userInput").value;
  }

  function updateBatchForm() {
    document.getElementById("batchForm").action = "/batch/" + document.getElementById("batchInput").value;
  }

</script>
{% endblock %}
